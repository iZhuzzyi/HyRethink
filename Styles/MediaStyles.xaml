<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <!-- 列表栏旧背景样式 (提取供工具栏使用) -->
    <LinearGradientBrush x:Key="MediaBarGlassBrush" StartPoint="0,0" EndPoint="0,1">
        <GradientStop Color="#40FFFFFF" Offset="0"/>
        <GradientStop Color="#10FFFFFF" Offset="0.45"/>
        <GradientStop Color="#00FFFFFF" Offset="0.45"/>
        <GradientStop Color="#05FFFFFF" Offset="1"/>
    </LinearGradientBrush>

    <!-- 列表栏背景样式 (比顶部栏稍亮，偏青) -->
    <LinearGradientBrush x:Key="MediaListHeaderBrush" StartPoint="0,0" EndPoint="0,1">
        <GradientStop Color="#FF1A3040" Offset="0"/>
        <GradientStop Color="#FF356080" Offset="1"/>
    </LinearGradientBrush>

    <!-- 列表头部分割线画刷 -->
    <LinearGradientBrush x:Key="MediaListHeaderSeparatorBrush" StartPoint="0,0" EndPoint="0,1">
        <GradientStop Color="#00FFFFFF" Offset="0"/>
        <GradientStop Color="#80FFFFFF" Offset="0.5"/>
        <GradientStop Color="#00FFFFFF" Offset="1"/>
    </LinearGradientBrush>

    <!-- 工具栏按钮悬停背景画刷 (提取自 Designs/ToolButtonHover.xaml) -->
    <RadialGradientBrush x:Key="ToolButtonHoverBackgroundBrush" RadiusX="1.64234" RadiusY="2.22972" Center="0.500003,1.47445" GradientOrigin="0.500003,1.47445">
        <RadialGradientBrush.GradientStops>
            <GradientStop Color="#CB4C87AF" Offset="0.295559"/>
            <GradientStop Color="#CD162D41" Offset="0.607963"/>
            <GradientStop Color="#CD3A576E" Offset="0.638591"/>
            <GradientStop Color="#CD6E869C" Offset="0.911179"/>
        </RadialGradientBrush.GradientStops>
        <RadialGradientBrush.RelativeTransform>
            <TransformGroup>
                <RotateTransform CenterX="0.500003" CenterY="1.47445" Angle="90"/>
            </TransformGroup>
        </RadialGradientBrush.RelativeTransform>
    </RadialGradientBrush>

    <!-- 工具栏按钮悬停边框颜色 -->
    <SolidColorBrush x:Key="ToolButtonHoverBorderBrush" Color="#67BBDDF2"/>

    <!-- 工具栏按钮按下背景画刷 (基于 Hover 调整颜色变深) -->
    <RadialGradientBrush x:Key="ToolButtonPressedBackgroundBrush" RadiusX="1.64234" RadiusY="2.22972" Center="0.500003,1.47445" GradientOrigin="0.500003,1.47445">
        <RadialGradientBrush.GradientStops>
            <GradientStop Color="#CC2C577F" Offset="0.295559"/>
            <GradientStop Color="#CC061D31" Offset="0.607963"/>
            <GradientStop Color="#CC1A374E" Offset="0.638591"/>
            <GradientStop Color="#CC4E667C" Offset="0.911179"/>
        </RadialGradientBrush.GradientStops>
        <RadialGradientBrush.RelativeTransform>
            <TransformGroup>
                <RotateTransform CenterX="0.500003" CenterY="1.47445" Angle="90"/>
            </TransformGroup>
        </RadialGradientBrush.RelativeTransform>
    </RadialGradientBrush>

    <!-- 工具栏按钮按下边框颜色 -->
    <SolidColorBrush x:Key="ToolButtonPressedBorderBrush" Color="#99001020"/>

    <!-- 顶部工具栏按钮样式 -->
    <Style x:Key="MediaToolbarButtonStyle" TargetType="Button">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="Foreground" Value="White"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Padding" Value="15,8"/>
        <Setter Property="Margin" Value="0,0,5,0"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Grid Background="{TemplateBinding Background}">
                        <!-- 悬停状态 (使用 Border 替代 GeometryDrawing 以适应不同尺寸) -->
                        <Border x:Name="HoverBorder"
                                Opacity="0"
                                CornerRadius="4"
                                BorderThickness="2"
                                Background="{StaticResource ToolButtonHoverBackgroundBrush}"
                                BorderBrush="{StaticResource ToolButtonHoverBorderBrush}"/>
                        
                        <!-- 按下状态 (使用矢量画刷替代 ImageBrush) -->
                        <Border x:Name="PressedBorder"
                                Opacity="0"
                                CornerRadius="4"
                                BorderThickness="2"
                                Background="{StaticResource ToolButtonPressedBackgroundBrush}"
                                BorderBrush="{StaticResource ToolButtonPressedBorderBrush}"/>
                        
                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="HoverBorder" Property="Opacity" Value="1"/>
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="PressedBorder" Property="Opacity" Value="1"/>
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter Property="Opacity" Value="0.5"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- 左侧列表项容器样式 (保持简单的 Border 实现) -->
    <Style x:Key="MediaListBoxItemStyle" TargetType="ListBoxItem">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ListBoxItem">
                    <Grid Margin="2">
                        <Border x:Name="SelectionBorder" 
                                Opacity="0"
                                CornerRadius="3"
                                BorderThickness="1"
                                BorderBrush="#7F7E8DB3">
                            <Border.Background>
                                <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                    <GradientStop Color="#BE25F7FF" Offset="0"/>
                                    <GradientStop Color="#008BD8FF" Offset="0.33"/>
                                    <GradientStop Color="#00FFFFFF" Offset="1"/>
                                </LinearGradientBrush>
                            </Border.Background>
                        </Border>
                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsSelected" Value="True">
                            <Setter TargetName="SelectionBorder" Property="Opacity" Value="1"/>
                        </Trigger>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="SelectionBorder" Property="Opacity" Value="0.5"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- 媒体项目选中背景画刷 (仅用于右侧列表) -->
    <DrawingBrush x:Key="MediaItemSelectedBrush" Stretch="Fill">
        <DrawingBrush.Drawing>
            <DrawingGroup>
                <DrawingGroup.Children>
                    <GeometryDrawing Geometry="F1 M 3.50037,0.5L 981.926,0.5C 983.583,0.5 984.926,1.84317 984.926,3.5L 984.926,173.501C 984.926,175.157 983.583,176.501 981.926,176.501L 3.50037,176.501C 1.84326,176.501 0.5,175.157 0.5,173.501L 0.5,3.5C 0.5,1.84317 1.84326,0.5 3.50037,0.5 Z ">
                        <GeometryDrawing.Pen>
                            <Pen LineJoin="Round" Brush="#7F7E8DB3"/>
                        </GeometryDrawing.Pen>
                        <GeometryDrawing.Brush>
                            <RadialGradientBrush RadiusX="1.48871" RadiusY="1.8252" Center="0.188221,-0.369315" GradientOrigin="0.188221,-0.369315">
                                <RadialGradientBrush.GradientStops>
                                    <GradientStop Color="#CCFFFFFF" Offset="0.200613"/>
                                    <GradientStop Color="#8DCFEFFF" Offset="0.323124"/>
                                    <GradientStop Color="#797A99A6" Offset="0.454824"/>
                                    <GradientStop Color="#4C01263F" Offset="0.678407"/>
                                    <GradientStop Color="#8C5FCAFF" Offset="0.911179"/>
                                    <GradientStop Color="#FF25CFFF" Offset="1"/>
                                </RadialGradientBrush.GradientStops>
                                <RadialGradientBrush.RelativeTransform>
                                    <TransformGroup>
                                        <RotateTransform CenterX="0.188221" CenterY="-0.369315" Angle="90"/>
                                    </TransformGroup>
                                </RadialGradientBrush.RelativeTransform>
                            </RadialGradientBrush>
                        </GeometryDrawing.Brush>
                    </GeometryDrawing>
                </DrawingGroup.Children>
            </DrawingGroup>
        </DrawingBrush.Drawing>
    </DrawingBrush>

    <!-- 媒体项目悬停背景画刷 (仅用于右侧列表) -->
    <DrawingBrush x:Key="MediaItemHoverBrush" Stretch="Fill">
        <DrawingBrush.Drawing>
            <DrawingGroup>
                <DrawingGroup.Children>
                    <GeometryDrawing Geometry="F1 M 3.50024,0.499908L 981.926,0.499908C 983.583,0.499908 984.926,1.84311 984.926,3.49991L 984.926,173.501C 984.926,175.157 983.583,176.501 981.926,176.501L 3.50024,176.501C 1.84338,176.501 0.500122,175.157 0.500122,173.501L 0.500122,3.49991C 0.500122,1.84311 1.84338,0.499908 3.50024,0.499908 Z ">
                        <GeometryDrawing.Pen>
                            <Pen LineJoin="Round" Brush="#7F7E8DB3"/>
                        </GeometryDrawing.Pen>
                        <GeometryDrawing.Brush>
                            <RadialGradientBrush RadiusX="1.48871" RadiusY="1.8252" Center="0.188221,-0.369316" GradientOrigin="0.188221,-0.369316">
                                <RadialGradientBrush.GradientStops>
                                    <GradientStop Color="#CCFFFFFF" Offset="0"/>
                                    <GradientStop Color="#4CC7EEFF" Offset="0.295559"/>
                                    <GradientStop Color="#47242729" Offset="0.62634"/>
                                    <GradientStop Color="#30D0F0FF" Offset="0.963247"/>
                                </RadialGradientBrush.GradientStops>
                                <RadialGradientBrush.RelativeTransform>
                                    <TransformGroup>
                                        <RotateTransform CenterX="0.188221" CenterY="-0.369316" Angle="90"/>
                                    </TransformGroup>
                                </RadialGradientBrush.RelativeTransform>
                            </RadialGradientBrush>
                        </GeometryDrawing.Brush>
                    </GeometryDrawing>
                </DrawingGroup.Children>
            </DrawingGroup>
        </DrawingBrush.Drawing>
    </DrawingBrush>

    <!-- ListView Header 样式 (Aero Glass 风格) -->
    <Style x:Key="MediaListViewHeaderStyle" TargetType="GridViewColumnHeader">
        <Setter Property="Foreground" Value="White"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="FontWeight" Value="Normal"/>
        <Setter Property="HorizontalContentAlignment" Value="Left"/>
        <Setter Property="Padding" Value="10,5"/>
        <Setter Property="Margin" Value="-2"/>
        <!-- 这个Margin很奇怪但千万不要动除非你是人类并且有把握修复好 -->
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="GridViewColumnHeader">
                    <Grid>
                        <!-- 底色层 (MediaListHeaderBrush) -->
                        <Border Background="{StaticResource MediaListHeaderBrush}" />
                        
                        <!-- 高光层 (AeroHeaderOverlayBrush) -->
                        <Border Background="{StaticResource AeroHeaderOverlayBrush}" />

                        <!-- 边框和分割线 -->
                        <Border BorderThickness="0,0,1,1" BorderBrush="#33FFFFFF"/>
                        
                        <!-- 右侧分割线高光 -->
                        <Rectangle Width="1" HorizontalAlignment="Right" Fill="{StaticResource MediaListHeaderSeparatorBrush}" Margin="0,2,1,2"/>

                        <!-- 悬停高光 -->
                        <Border x:Name="HoverHighlight" Background="#20FFFFFF" Opacity="0"/>
                        
                        <!-- 按下高光 -->
                        <Border x:Name="PressedHighlight" Background="#40FFFFFF" Opacity="0"/>

                        <ContentPresenter Margin="{TemplateBinding Padding}"
                                          HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                          VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                          RecognizesAccessKey="True"/>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="HoverHighlight" Property="Opacity" Value="1"/>
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="PressedHighlight" Property="Opacity" Value="1"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- ListViewItem 样式 (使用更新后的 GeometryDrawing 和非线性动画) -->
    <Style x:Key="MediaListViewItemStyle" TargetType="ListViewItem">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="Foreground" Value="White"/>
        <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
        <!-- 增加高度到 60，以匹配参考图的宽敞感 -->
        <Setter Property="Height" Value="60"/>
        <!-- 调整字号到 14，以匹配参考图的可读性 -->
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ListViewItem">
                    <Grid>
                        <!-- 悬停状态背景 -->
                        <Rectangle x:Name="HoverBackground" 
                                   Fill="{StaticResource MediaItemHoverBrush}"
                                   Opacity="0"
                                   RadiusX="4" RadiusY="4"
                                   Stroke="#7F7E8DB3" StrokeThickness="2"/>
                        
                        <!-- 选中状态背景 -->
                        <Rectangle x:Name="SelectionBackground" 
                                   Fill="{StaticResource MediaItemSelectedBrush}"
                                   Opacity="0"
                                   RadiusX="4" RadiusY="4"
                                   Stroke="#7F7E8DB3" StrokeThickness="2"/>
                        
                        <GridViewRowPresenter Content="{TemplateBinding Content}" Columns="{TemplateBinding GridView.ColumnCollection}" VerticalAlignment="Center"/>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <!-- 选中状态触发器 -->
                        <Trigger Property="IsSelected" Value="True">
                            <Trigger.EnterActions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetName="SelectionBackground" 
                                                         Storyboard.TargetProperty="Opacity" 
                                                         To="1" Duration="0:0:0.3">
                                            <DoubleAnimation.EasingFunction>
                                                <CubicEase EasingMode="EaseOut"/>
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.EnterActions>
                            <Trigger.ExitActions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetName="SelectionBackground" 
                                                         Storyboard.TargetProperty="Opacity" 
                                                         To="0" Duration="0:0:0.2">
                                            <DoubleAnimation.EasingFunction>
                                                <QuadraticEase EasingMode="EaseIn"/>
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.ExitActions>
                        </Trigger>

                        <!-- 悬停状态触发器 (仅在未选中时显示) -->
                        <MultiTrigger>
                            <MultiTrigger.Conditions>
                                <Condition Property="IsMouseOver" Value="True"/>
                                <Condition Property="IsSelected" Value="False"/>
                            </MultiTrigger.Conditions>
                            <MultiTrigger.EnterActions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetName="HoverBackground" 
                                                         Storyboard.TargetProperty="Opacity" 
                                                         To="1" Duration="0:0:0.2">
                                            <DoubleAnimation.EasingFunction>
                                                <SineEase EasingMode="EaseOut"/>
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>
                                    </Storyboard>
                                </BeginStoryboard>
                            </MultiTrigger.EnterActions>
                            <MultiTrigger.ExitActions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetName="HoverBackground" 
                                                         Storyboard.TargetProperty="Opacity" 
                                                         To="0" Duration="0:0:0.2">
                                            <DoubleAnimation.EasingFunction>
                                                <SineEase EasingMode="EaseIn"/>
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>
                                    </Storyboard>
                                </BeginStoryboard>
                            </MultiTrigger.ExitActions>
                        </MultiTrigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>
